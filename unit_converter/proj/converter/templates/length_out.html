<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags-->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Colorlib Templates" />
    <meta name="author" content="Colorlib" />
    <meta name="keywords" content="Colorlib Templates" />

    <!-- Title Page-->
    <title>Unit Converter</title>

    <!-- Icons font CSS-->
    <link
      href="/static/css/vendor/mdi-font/css/material-design-iconic-font.min.css"
      rel="stylesheet"
      media="all"
    />
    <link
      href="/static/css/vendor/font-awesome-4.7/css/font-awesome.min.css"
      rel="stylesheet"
      media="all"
    />
    <!-- Font special for pages-->
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet"
    />

    <!-- Vendor CSS-->
    <link
      href="/static/css/vendor/select2/select2.min.css"
      rel="stylesheet"
      media="all"
    />
    <link
      href="/static/css/vendor/datepicker/daterangepicker.css"
      rel="stylesheet"
      media="all"
    />

    <!-- Main CSS-->
    <link href="/static/css/css/main.css" rel="stylesheet" media="all" />

    <!-- jQuery and DataTables -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
      function loadPage(page) {
        history.pushState(null, "", "/");
        fetch(page, { headers: { "X-Requested-With": "XMLHttpRequest" } })
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("content").innerHTML = data;

          //   // Reapply event listeners after content reloads
          //   setupFormSubmission();
          //   initializeDropdowns();
          // // })
          // .catch((error) => console.error("Error loading page:", error));
          // Reapply dropdown styles after content loads
          setTimeout(() => {
            initializeDropdowns(); // Call the function that applies the dropdown styling
          }, 0);
        })
        .catch((error) => console.error("Error loading page:", error));
      }

      // Function to reinitialize dropdown styles
      function initializeDropdowns() {
        $(".js-select-simple").each(function () {
          var selectBox = $(this).find("select");

          // Apply Select2 without search
          selectBox.select2({
            minimumResultsForSearch: -1, // Disables the search bar
          });
        });
      }
    </script>
  </head>

  <body>
    <div class="page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins">
      <div class="wrapper wrapper--w680">
        <div class="card card-4">
          <div class="card-body">
            <h2 class="title">Unit Converter</h2>
            <nav role="navigation">
              <li style="list-style-type: none">
                <a
                  href="javascript:void(0);"
                  onclick="loadPage('/length/')"
                  data-page="length"
                  class="active"
                  >Length</a
                >
              </li>
              <li style="list-style-type: none">
                <a
                  href="javascript:void(0);"
                  onclick="loadPage('/weight/')"
                  data-page="weight"
                  >Weight</a
                >
              </li>
              <li style="list-style-type: none">
                <a
                  href="javascript:void(0);"
                  onclick="loadPage('/temp/')"
                  data-page="temp"
                  >Temperature</a
                >
              </li>
              <!-- <a data-page="home" class="active" href="#">Length</a>
              <a data-page="about" href="/weight/">Weight</a>
              <a data-page="clients" href="/temp/">Temperature</a> -->
            </nav>
            <div id="content">
              <p style="font-size: 2rem;">Result of Conversion</p>
              <div style="font-size: 2rem;"> {{ value }} {{from_unit}} = {{ converted_value }} {{ to_unit }} </div>
               <a href="/">
                <button class="btn btn--radius-2 btn--black" style="margin-top: 20px;">
                 Reset
               </button>
               </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <script>
      $(document).ready(function () {
        $("nav a").click(function (event) {
          event.preventDefault(); // Prevent page from refreshing

          var page = $(this).data("page");

          // Change navbar active state
          $("nav a").removeClass("active");
          $(this).addClass("active");

          // Hide all forms and show the selected one
          $(".form-content").removeClass("active-form");
          $("#" + page).addClass("active-form");
        });
      });
    </script> -->

    <script>
      $(function () {
        var link = $("nav a");

        // Click handler for navbar links
        link.on("click", function (event) {
          event.preventDefault(); // Prevent page from refreshing

          var $this = $(this);
          var page = $this.data("page");

          // Remove all body classes and add the new one (to change background color)
          $("body").removeClass("length weight temp").addClass(page);

          // Remove active class from all links and add to the clicked one
          link.removeClass("active");
          $this.addClass("active");
        });
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        initializeDropdowns();
      });
    </script>

    <!-- Jquery JS-->
    <script src="/static/css/vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="/static/css/vendor/select2/select2.min.js"></script>
    <script src="/static/css/vendor/datepicker/moment.min.js"></script>
    <script src="/static/css/vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="/static/css/js/global.js"></script>
  </body>
</html>
<!-- end document-->
